<!DOCTYPE HTML>
<html lang="it">
<head>
<!-- Generated by javadoc (22) on Fri Jun 28 00:46:41 CEST 2024 -->
<title>SKServerNode</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2024-06-28">
<meta name="description" content="declaration: module: it.polimi.ingsw.am32, package: it.polimi.ingsw.am32.network.ServerNode, class: SKServerNode">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../../../../resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../resource-files/stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../../../../script-files/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../../../../module-summary.html">it.polimi.ingsw.am32</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">it.polimi.ingsw.am32.network.ServerNode</a></div>
<h1 title="Class SKServerNode" class="title">Class SKServerNode</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">it.polimi.ingsw.am32.network.ServerNode.SKServerNode</div>
</div>
<section class="class-description" id="class-description">
<div class="horizontal-scroll">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="ServerNodeInterface.html" title="interface in it.polimi.ingsw.am32.network.ServerNode">ServerNodeInterface</a></code>, <code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">SKServerNode</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>, <a href="ServerNodeInterface.html" title="interface in it.polimi.ingsw.am32.network.ServerNode">ServerNodeInterface</a></span></div>
<div class="block">Each instance of class <code>SKServerNode</code> handles a socket connection with a client. <br>
 If, at some point, the connection were to go down, this instance will begin automatically a termination process. <br>
 The class implements the <code>Runnable</code> interface to allow the instance to be run in a separate thread. <br></div>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second even-row-color"><code><a href="#aliveLock" class="member-name-link">aliveLock</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private final <a href="../../utilities/Configuration.html" title="class in it.polimi.ingsw.am32.utilities">Configuration</a></code></div>
<div class="col-second odd-row-color"><code><a href="#config" class="member-name-link">config</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second even-row-color"><code><a href="#ctoSProcessingLock" class="member-name-link">ctoSProcessingLock</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private boolean</code></div>
<div class="col-second odd-row-color"><code><a href="#destroyCalled" class="member-name-link">destroyCalled</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private <a href="../../controller/GameController.html" title="class in it.polimi.ingsw.am32.controller">GameController</a></code></div>
<div class="col-second even-row-color"><code><a href="#gameController" class="member-name-link">gameController</a></code></div>
<div class="col-last even-row-color">
<div class="block">Variables used to communicate with the <code>GameController</code></div>
</div>
<div class="col-first odd-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/io/ObjectInputStream.html" title="class or interface in java.io" class="external-link">ObjectInputStream</a></code></div>
<div class="col-second odd-row-color"><code><a href="#inputObtStr" class="member-name-link">inputObtStr</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final org.apache.logging.log4j.Logger</code></div>
<div class="col-second even-row-color"><code><a href="#logger" class="member-name-link">logger</a></code></div>
<div class="col-last even-row-color">
<div class="block">Variables used for service purposes</div>
</div>
<div class="col-first odd-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#nickname" class="member-name-link">nickname</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private <a href="ServerPingTask.html" title="class in it.polimi.ingsw.am32.network.ServerNode">ServerPingTask</a></code></div>
<div class="col-second even-row-color"><code><a href="#notLinkedPingTask" class="member-name-link">notLinkedPingTask</a></code></div>
<div class="col-last even-row-color">
<div class="block">Variables used to verify and maintain active the connection with the client</div>
</div>
<div class="col-first odd-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/io/ObjectOutputStream.html" title="class or interface in java.io" class="external-link">ObjectOutputStream</a></code></div>
<div class="col-second odd-row-color"><code><a href="#outputObtStr" class="member-name-link">outputObtStr</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private int</code></div>
<div class="col-second even-row-color"><code><a href="#pingCount" class="member-name-link">pingCount</a></code></div>
<div class="col-last even-row-color">
<div class="block">Variables used to manage the connection with the server</div>
</div>
<div class="col-first odd-row-color"><code>private <a href="ServerPingTask.html" title="class in it.polimi.ingsw.am32.network.ServerNode">ServerPingTask</a></code></div>
<div class="col-second odd-row-color"><code><a href="#serverPingTask" class="member-name-link">serverPingTask</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/net/Socket.html" title="class or interface in java.net" class="external-link">Socket</a></code></div>
<div class="col-second even-row-color"><code><a href="#socket" class="member-name-link">socket</a></code></div>
<div class="col-last even-row-color">
<div class="block">Variables used to communicate with the client</div>
</div>
<div class="col-first odd-row-color"><code>private boolean</code></div>
<div class="col-second odd-row-color"><code><a href="#statusIsAlive" class="member-name-link">statusIsAlive</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Variables used to manage the state of the connection and the instance</div>
</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second even-row-color"><code><a href="#stoCProcessingLock" class="member-name-link">stoCProcessingLock</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.net.Socket)" class="member-name-link">SKServerNode</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/net/Socket.html" title="class or interface in java.net" class="external-link">Socket</a>&nbsp;socket)</code></div>
<div class="col-last even-row-color">
<div class="block">Standard constructor of the class.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#destroy()" class="member-name-link">destroy</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Method that destroys the instance of <code>SKServerNode</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#listenForIncomingMessages()" class="member-name-link">listenForIncomingMessages</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Method that listens for incoming messages from the client.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#pingTimeOverdue()" class="member-name-link">pingTimeOverdue</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Method that should be called at regular intervals.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#resetTimeCounter()" class="member-name-link">resetTimeCounter</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Method that resets the ping counter to its maximum value if the <code>SKServerNode</code> is alive.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#run()" class="member-name-link">run</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Method that starts the reading of the incoming messages from the input stream of the client.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#uploadToClient(it.polimi.ingsw.am32.message.ServerToClient.StoCMessage)" class="member-name-link">uploadToClient</a><wbr>(<a href="../../message/ServerToClient/StoCMessage.html" title="interface in it.polimi.ingsw.am32.message.ServerToClient">StoCMessage</a>&nbsp;msg)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Method that sends a <a href="../../message/ServerToClient/StoCMessage.html" title="interface in it.polimi.ingsw.am32.message.ServerToClient"><code>StoCMessage</code></a> to the client.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="logger">
<h3>logger</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type">org.apache.logging.log4j.Logger</span>&nbsp;<span class="element-name">logger</span></div>
<div class="block">Variables used for service purposes</div>
</div>
</section>
</li>
<li>
<section class="detail" id="config">
<h3>config</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="../../utilities/Configuration.html" title="class in it.polimi.ingsw.am32.utilities">Configuration</a></span>&nbsp;<span class="element-name">config</span></div>
</div>
</section>
</li>
<li>
<section class="detail" id="gameController">
<h3>gameController</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="../../controller/GameController.html" title="class in it.polimi.ingsw.am32.controller">GameController</a></span>&nbsp;<span class="element-name">gameController</span></div>
<div class="block">Variables used to communicate with the <code>GameController</code></div>
</div>
</section>
</li>
<li>
<section class="detail" id="pingCount">
<h3>pingCount</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">pingCount</span></div>
<div class="block">Variables used to manage the connection with the server</div>
</div>
</section>
</li>
<li>
<section class="detail" id="nickname">
<h3>nickname</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">nickname</span></div>
</div>
</section>
</li>
<li>
<section class="detail" id="socket">
<h3>socket</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/net/Socket.html" title="class or interface in java.net" class="external-link">Socket</a></span>&nbsp;<span class="element-name">socket</span></div>
<div class="block">Variables used to communicate with the client</div>
</div>
</section>
</li>
<li>
<section class="detail" id="inputObtStr">
<h3>inputObtStr</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/io/ObjectInputStream.html" title="class or interface in java.io" class="external-link">ObjectInputStream</a></span>&nbsp;<span class="element-name">inputObtStr</span></div>
</div>
</section>
</li>
<li>
<section class="detail" id="outputObtStr">
<h3>outputObtStr</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/io/ObjectOutputStream.html" title="class or interface in java.io" class="external-link">ObjectOutputStream</a></span>&nbsp;<span class="element-name">outputObtStr</span></div>
</div>
</section>
</li>
<li>
<section class="detail" id="notLinkedPingTask">
<h3>notLinkedPingTask</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="ServerPingTask.html" title="class in it.polimi.ingsw.am32.network.ServerNode">ServerPingTask</a></span>&nbsp;<span class="element-name">notLinkedPingTask</span></div>
<div class="block">Variables used to verify and maintain active the connection with the client</div>
</div>
</section>
</li>
<li>
<section class="detail" id="serverPingTask">
<h3>serverPingTask</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="ServerPingTask.html" title="class in it.polimi.ingsw.am32.network.ServerNode">ServerPingTask</a></span>&nbsp;<span class="element-name">serverPingTask</span></div>
</div>
</section>
</li>
<li>
<section class="detail" id="statusIsAlive">
<h3>statusIsAlive</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">statusIsAlive</span></div>
<div class="block">Variables used to manage the state of the connection and the instance</div>
</div>
</section>
</li>
<li>
<section class="detail" id="destroyCalled">
<h3>destroyCalled</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">destroyCalled</span></div>
</div>
</section>
</li>
<li>
<section class="detail" id="aliveLock">
<h3>aliveLock</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">aliveLock</span></div>
</div>
</section>
</li>
<li>
<section class="detail" id="ctoSProcessingLock">
<h3>ctoSProcessingLock</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">ctoSProcessingLock</span></div>
</div>
</section>
</li>
<li>
<section class="detail" id="stoCProcessingLock">
<h3>stoCProcessingLock</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">stoCProcessingLock</span></div>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(java.net.Socket)">
<h3>SKServerNode</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">SKServerNode</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/net/Socket.html" title="class or interface in java.net" class="external-link">Socket</a>&nbsp;socket)</span>
             throws <span class="exceptions"><a href="../exceptions/UninitializedException.html" title="class in it.polimi.ingsw.am32.network.exceptions">UninitializedException</a></span></div>
<div class="block">Standard constructor of the class. <br>
 It creates a new instance of <code>SKServerNode</code> and initializes the input and output streams. <br>
 It also sets the socket timeout. <br>
 A temporary ping task is created to check if the client is still alive while the gameController is not yet assigned
 Throwing an exception implies that this class is not correctly initialized and should be destroyed. This also
 implies that the socket and its streams are closed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>socket</code> - </dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/UninitializedException.html" title="class in it.polimi.ingsw.am32.network.exceptions">UninitializedException</a></code> - thrown if, during the instantiation, there were some problems</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="run()">
<h3>run</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">run</span>()</div>
<div class="block">Method that starts the reading of the incoming messages from the input stream of the client. <br>
 This method will process the incoming messages and will call the appropriate method of the <code>GameController</code>
 to handle the message. <br>
 If at some point, the instance of <code>SKServerNode</code> is not alive, the thread will terminate. <br>
 Any problem with the input stream will cause the destruction of the <code>SKServerNode</code>. <br></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Runnable.html#run()" title="class or interface in java.lang" class="external-link">run</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a></code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="listenForIncomingMessages()">
<h3>listenForIncomingMessages</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">listenForIncomingMessages</span>()
                                throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/ClassNotFoundException.html" title="class or interface in java.lang" class="external-link">ClassNotFoundException</a>,
<a href="../exceptions/NodeClosedException.html" title="class in it.polimi.ingsw.am32.network.exceptions">NodeClosedException</a></span></div>
<div class="block">Method that listens for incoming messages from the client. <br>
 The method will wait until a message is received from the client. <br>
 When a message is received, the method will check the type of the message: <br>
 - If the message is a <a href="../../message/ClientToServer/PingMessage.html" title="class in it.polimi.ingsw.am32.message.ClientToServer"><code>PingMessage</code></a>, the method will return immediately. <br>
 - If the message is a <a href="../../message/ClientToServer/CtoSMessage.html" title="interface in it.polimi.ingsw.am32.message.ClientToServer"><code>CtoSMessage</code></a> and a <a href="../../controller/GameController.html" title="class in it.polimi.ingsw.am32.controller"><code>GameController</code></a> is already set, the method will call the
 <code>elaborateMessage</code> method on the message. <br>
 - If the message is a <a href="../../message/ClientToServer/CtoSLobbyMessage.html" title="interface in it.polimi.ingsw.am32.message.ClientToServer"><code>CtoSLobbyMessage</code></a> and a <a href="../../controller/GameController.html" title="class in it.polimi.ingsw.am32.controller"><code>GameController</code></a> is not yet set, the method will call
 the <code>elaborateMessage</code> method on the message and set the <code>GameController</code> to the one returned by the
 method. <br>
 - If the message is not recognized, the method will send an <a href="../../message/ServerToClient/ErrorMessage.html" title="class in it.polimi.ingsw.am32.message.ServerToClient"><code>ErrorMessage</code></a> to the client. <br>
 If the method encounters any problem while processing the message, it will throw an exception. <br></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - exception thrown if there are problems with the input stream</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/22/docs/api/java.base/java/lang/ClassNotFoundException.html" title="class or interface in java.lang" class="external-link">ClassNotFoundException</a></code> - exception thrown if the class of the object received from the input stream is not found</dd>
<dd><code><a href="../exceptions/NodeClosedException.html" title="class in it.polimi.ingsw.am32.network.exceptions">NodeClosedException</a></code> - exception thrown if the instance of <code>SKServerNode</code> is not alive</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="uploadToClient(it.polimi.ingsw.am32.message.ServerToClient.StoCMessage)">
<h3>uploadToClient</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">uploadToClient</span><wbr><span class="parameters">(<a href="../../message/ServerToClient/StoCMessage.html" title="interface in it.polimi.ingsw.am32.message.ServerToClient">StoCMessage</a>&nbsp;msg)</span>
                    throws <span class="exceptions"><a href="../exceptions/UploadFailureException.html" title="class in it.polimi.ingsw.am32.network.exceptions">UploadFailureException</a></span></div>
<div class="block">Method that sends a <a href="../../message/ServerToClient/StoCMessage.html" title="interface in it.polimi.ingsw.am32.message.ServerToClient"><code>StoCMessage</code></a> to the client. <br>ù
 If the client is not alive or the connection had issues and the message couldn't reach the client, a
 <a href="../exceptions/UploadFailureException.html" title="class in it.polimi.ingsw.am32.network.exceptions"><code>UploadFailureException</code></a> will be thrown. <br>
 If the client wasn't reachable, the method will start the destruction process. <br></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ServerNodeInterface.html#uploadToClient(it.polimi.ingsw.am32.message.ServerToClient.StoCMessage)">uploadToClient</a></code>&nbsp;in interface&nbsp;<code><a href="ServerNodeInterface.html" title="interface in it.polimi.ingsw.am32.network.ServerNode">ServerNodeInterface</a></code></dd>
<dt>Parameters:</dt>
<dd><code>msg</code> - is the message that the server wants to send</dd>
<dt>Throws:</dt>
<dd><code><a href="../exceptions/UploadFailureException.html" title="class in it.polimi.ingsw.am32.network.exceptions">UploadFailureException</a></code> - if the message couldn't be sent to the client or the ServerNode is not alive</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="pingTimeOverdue()">
<h3>pingTimeOverdue</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">pingTimeOverdue</span>()</div>
<div class="block">Method that should be called at regular intervals. <br>
 If the <code>SKServerNode</code> is not alive, the method will return immediately. <br>
 If the <code>SKServerNode</code> is alive, the ping count will be decremented. <br>
 If the ping count reaches 0, the <code>SKServerNode</code> will start the destruction process. <br>
 On the other hand, if the ping count is still more than 0 after decrementing, the server will send a
 <a href="../../message/ServerToClient/PongMessage.html" title="class in it.polimi.ingsw.am32.message.ServerToClient"><code>PongMessage</code></a> to the client. <br></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ServerNodeInterface.html#pingTimeOverdue()">pingTimeOverdue</a></code>&nbsp;in interface&nbsp;<code><a href="ServerNodeInterface.html" title="interface in it.polimi.ingsw.am32.network.ServerNode">ServerNodeInterface</a></code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="resetTimeCounter()">
<h3>resetTimeCounter</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">resetTimeCounter</span>()</div>
<div class="block">Method that resets the ping counter to its maximum value if the <code>SKServerNode</code> is alive. <br></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ServerNodeInterface.html#resetTimeCounter()">resetTimeCounter</a></code>&nbsp;in interface&nbsp;<code><a href="ServerNodeInterface.html" title="interface in it.polimi.ingsw.am32.network.ServerNode">ServerNodeInterface</a></code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="destroy()">
<h3>destroy</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">destroy</span>()</div>
<div class="block">Method that destroys the instance of <code>SKServerNode</code>. <br>
 It closes the input and output streams and the socket. <br>
 If the <code>SKServerNode</code> is linked to a <code>GameController</code>, it will disconnect from it. <br>
 It also cancels all ping tasks and then purges the timer of the <code>Configuration</code> class and
 <code>GameController</code>. <br>
 The method will also set the status of the <code>SKServerNode</code> to not alive. <br></div>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</body>
</html>
